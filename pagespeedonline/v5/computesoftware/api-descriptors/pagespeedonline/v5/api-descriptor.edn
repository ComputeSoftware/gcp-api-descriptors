#:compute.gcp.descriptor{:name "pagespeedonline", :title "PageSpeed Insights API", :api-version "v5", :revision "20210218", :endpoint #:compute.gcp.descriptor{:url "https://pagespeedonline.googleapis.com/", :batch-path "batch", :service-path ""}, :parameters {"callback" {"description" "JSONP", "type" "string", "location" "query"}, "uploadType" {"type" "string", "description" "Legacy upload protocol for media (e.g. \"media\", \"multipart\").", "location" "query"}, "key" {"description" "API key. Your API key identifies your project and provides you with API access, quota, and reports. Required unless you provide an OAuth 2.0 token.", "location" "query", "type" "string"}, "access_token" {"description" "OAuth access token.", "location" "query", "type" "string"}, "oauth_token" {"description" "OAuth 2.0 token for the current user.", "location" "query", "type" "string"}, "prettyPrint" {"default" "true", "type" "boolean", "description" "Returns response with indentations and line breaks.", "location" "query"}, "alt" {"type" "string", "enumDescriptions" ["Responses with Content-Type of application/json" "Media download with context-dependent Content-Type" "Responses with Content-Type of application/x-protobuf"], "location" "query", "default" "json", "description" "Data format for response.", "enum" ["json" "media" "proto"]}, "$.xgafv" {"enumDescriptions" ["v1 error format" "v2 error format"], "location" "query", "type" "string", "description" "V1 error format.", "enum" ["1" "2"]}, "fields" {"type" "string", "description" "Selector specifying which fields to include in a partial response.", "location" "query"}, "upload_protocol" {"location" "query", "type" "string", "description" "Upload protocol for media (e.g. \"raw\", \"multipart\")."}, "quotaUser" {"location" "query", "type" "string", "description" "Available to use for quota purposes for server-side applications. Can be any arbitrary string assigned to a user, but should not exceed 40 characters."}}, :op->info {"pagespeedonline.pagespeedapi.runpagespeed" #:compute.gcp.descriptor{:http-method :get, :path "pagespeedonline/v5/runPagespeed", :response {"$ref" "PagespeedApiPagespeedResponseV5"}, :parameters {"utm_campaign" {"type" "string", "location" "query", "description" "Campaign name for analytics."}, "captchaToken" {"location" "query", "description" "The captcha token passed when filling out a captcha.", "type" "string"}, "utm_source" {"type" "string", "location" "query", "description" "Campaign source for analytics."}, "strategy" {"description" "The analysis strategy (desktop or mobile) to use, and desktop is the default", "type" "string", "location" "query", "enum" ["STRATEGY_UNSPECIFIED" "DESKTOP" "MOBILE"], "enumDescriptions" ["UNDEFINED." "Fetch and analyze the URL for desktop browsers." "Fetch and analyze the URL for mobile devices."]}, "category" {"enum" ["CATEGORY_UNSPECIFIED" "ACCESSIBILITY" "BEST_PRACTICES" "PERFORMANCE" "PWA" "SEO"], "location" "query", "description" "A Lighthouse category to run; if none are given, only Performance category will be run", "type" "string", "repeated" true, "enumDescriptions" ["Default UNDEFINED category." "Accessibility (a11y), category pertaining to a website's capacity to be accessible to all users." "Best Practices, category pertaining to a website's conformance to web best practice." "Performance, category pertaining to a website's performance." "Progressive Web App (PWA), category pertaining to a website's ability to be run as a PWA." "Search Engine Optimization (SEO), category pertaining to a website's ability to be indexed by search engines."]}, "url" {"required" true, "pattern" "(?i)(url:|origin:)?http(s)?://.*", "description" "Required. The URL to fetch and analyze", "type" "string", "location" "query"}, "locale" {"location" "query", "pattern" "[a-zA-Z]+((_|-)[a-zA-Z]+)?", "description" "The locale used to localize formatted results", "type" "string"}}, :description "Runs PageSpeed analysis on the page at the specified URL, and returns PageSpeed scores, a list of suggestions to make that page faster, and other information."}}, :schemas {"Bucket" {"type" "object", "id" "Bucket", "properties" {"min" {"description" "Lower bound for a bucket's range.", "format" "int32", "type" "integer"}, "max" {"type" "integer", "format" "int32", "description" "Upper bound for a bucket's range."}, "proportion" {"description" "The proportion of data in this bucket.", "type" "number", "format" "double"}}, "description" "A proportion of data in the total distribution, bucketed by a min/max percentage. Each bucket's range is bounded by min <= x < max, In millisecond."}, "ConfigSettings" {"description" "Message containing the configuration settings for the Lighthouse run.", "type" "object", "id" "ConfigSettings", "properties" {"channel" {"description" "How Lighthouse was run, e.g. from the Chrome extension or from the npm module.", "type" "string"}, "onlyCategories" {"description" "List of categories of audits the run should conduct.", "type" "any"}, "formFactor" {"type" "string", "description" "How Lighthouse should interpret this run in regards to scoring performance metrics and skipping mobile-only tests in desktop."}, "locale" {"type" "string", "description" "The locale setting."}, "emulatedFormFactor" {"type" "string", "description" "The form factor the emulation should use. This field is deprecated, form_factor should be used instead."}}}, "PagespeedApiPagespeedResponseV5" {"id" "PagespeedApiPagespeedResponseV5", "type" "object", "properties" {"loadingExperience" {"$ref" "PagespeedApiLoadingExperienceV5", "description" "Metrics of end users' page loading experience."}, "captchaResult" {"description" "The captcha verify result", "type" "string"}, "kind" {"type" "string", "description" "Kind of result."}, "id" {"description" "Canonicalized and final URL for the document, after following page redirects (if any).", "type" "string"}, "originLoadingExperience" {"description" "Metrics of the aggregated page loading experience of the origin", "$ref" "PagespeedApiLoadingExperienceV5"}, "version" {"$ref" "PagespeedVersion", "description" "The version of PageSpeed used to generate these results."}, "analysisUTCTimestamp" {"type" "string", "description" "The UTC timestamp of this analysis."}, "lighthouseResult" {"$ref" "LighthouseResultV5", "description" "Lighthouse response for the audit url as an object."}}, "description" "The Pagespeed API response object."}, "LighthouseAuditResultV5" {"description" "An audit's result object in a Lighthouse result.", "properties" {"score" {"description" "The score of the audit, can be null.", "type" "any"}, "errorMessage" {"description" "An error message from a thrown error inside the audit.", "type" "string"}, "scoreDisplayMode" {"type" "string", "description" "The enumerated score display mode."}, "numericValue" {"type" "number", "format" "double", "description" "A numeric value that has a meaning specific to the audit, e.g. the number of nodes in the DOM or the timestamp of a specific load event. More information can be found in the audit details, if present."}, "id" {"description" "The audit's id.", "type" "string"}, "displayValue" {"description" "The value that should be displayed on the UI for this audit.", "type" "string"}, "title" {"description" "The human readable title.", "type" "string"}, "details" {"type" "object", "additionalProperties" {"description" "Properties of the object.", "type" "any"}, "description" "Freeform details section of the audit."}, "warnings" {"type" "any", "description" "Possible warnings that occurred in the audit, can be null."}, "explanation" {"type" "string", "description" "An explanation of the errors in the audit."}, "description" {"type" "string", "description" "The description of the audit."}}, "id" "LighthouseAuditResultV5", "type" "object"}, "Categories" {"id" "Categories", "description" "The categories in a Lighthouse run.", "type" "object", "properties" {"best-practices" {"$ref" "LighthouseCategoryV5", "description" "The best practices category, containing all best practices related audits."}, "performance" {"description" "The performance category, containing all performance related audits.", "$ref" "LighthouseCategoryV5"}, "pwa" {"description" "The Progressive-Web-App (PWA) category, containing all pwa related audits.", "$ref" "LighthouseCategoryV5"}, "seo" {"$ref" "LighthouseCategoryV5", "description" "The Search-Engine-Optimization (SEO) category, containing all seo related audits."}, "accessibility" {"$ref" "LighthouseCategoryV5", "description" "The accessibility category, containing all accessibility related audits."}}}, "PagespeedVersion" {"description" "The Pagespeed Version object.", "id" "PagespeedVersion", "type" "object", "properties" {"minor" {"type" "string", "description" "The minor version number of PageSpeed used to generate these results."}, "major" {"type" "string", "description" "The major version number of PageSpeed used to generate these results."}}}, "RendererFormattedStrings" {"description" "Message holding the formatted strings used in the renderer.", "id" "RendererFormattedStrings", "properties" {"opportunitySavingsColumnLabel" {"type" "string", "description" "The heading for the estimated page load savings of opportunity audits."}, "warningHeader" {"description" "The label shown above a bulleted list of warnings.", "type" "string"}, "varianceDisclaimer" {"type" "string", "description" "The disclaimer shown below a performance metric value."}, "manualAuditsGroupTitle" {"type" "string", "description" "The heading shown above a list of audits that were not computerd in the run."}, "auditGroupExpandTooltip" {"type" "string", "description" "The tooltip text on an expandable chevron icon."}, "errorLabel" {"description" "The label shown next to an audit or metric that has had an error.", "type" "string"}, "crcInitialNavigation" {"description" "The label for the initial request in a critical request chain.", "type" "string"}, "passedAuditsGroupTitle" {"description" "The heading that is shown above a list of audits that are passing.", "type" "string"}, "labDataTitle" {"description" "The title of the lab data performance category.", "type" "string"}, "notApplicableAuditsGroupTitle" {"type" "string", "description" "The heading shown above a list of audits that do not apply to a page."}, "scorescaleLabel" {"type" "string", "description" "The label that explains the score gauges scale (0-49, 50-89, 90-100)."}, "toplevelWarningsMessage" {"type" "string", "description" "The label shown preceding important warnings that may have invalidated an entire report."}, "lsPerformanceCategoryDescription" {"type" "string", "description" "The disclaimer shown under performance explaning that the network can vary."}, "errorMissingAuditInfo" {"type" "string", "description" "The error string shown next to an erroring audit."}, "opportunityResourceColumnLabel" {"description" "The heading for the estimated page load savings opportunity of an audit.", "type" "string"}, "crcLongestDurationLabel" {"type" "string", "description" "The label for values shown in the summary of critical request chains."}}, "type" "object"}, "I18n" {"type" "object", "description" "Message containing the i18n data for the LHR - Version 1.", "id" "I18n", "properties" {"rendererFormattedStrings" {"description" "Internationalized strings that are formatted to the locale in configSettings.", "$ref" "RendererFormattedStrings"}}}, "AuditRefs" {"description" "A light reference to an audit by id, used to group and weight audits in a given category.", "type" "object", "id" "AuditRefs", "properties" {"id" {"type" "string", "description" "The audit ref id."}, "weight" {"description" "The weight this audit's score has on the overall category score.", "format" "double", "type" "number"}, "group" {"type" "string", "description" "The category group that the audit belongs to (optional)."}}}, "PagespeedApiLoadingExperienceV5" {"properties" {"origin_fallback" {"description" "True if the result is an origin fallback from a page, false otherwise.", "type" "boolean"}, "id" {"type" "string", "description" "The url, pattern or origin which the metrics are on."}, "metrics" {"additionalProperties" {"$ref" "UserPageLoadMetricV5"}, "type" "object", "description" "The map of ."}, "initial_url" {"description" "The requested URL, which may differ from the resolved \"id\".", "type" "string"}, "overall_category" {"type" "string", "description" "The human readable speed \"category\" of the id."}}, "type" "object", "description" "The CrUX loading experience object that contains CrUX data breakdowns.", "id" "PagespeedApiLoadingExperienceV5"}, "Timing" {"description" "Message containing the performance timing data for the Lighthouse run.", "properties" {"total" {"format" "double", "description" "The total duration of Lighthouse's run.", "type" "number"}}, "type" "object", "id" "Timing"}, "LighthouseResultV5" {"id" "LighthouseResultV5", "description" "The Lighthouse result object.", "type" "object", "properties" {"categoryGroups" {"type" "object", "description" "Map of category groups in the LHR.", "additionalProperties" {"$ref" "CategoryGroupV5"}}, "userAgent" {"description" "The user agent that was used to run this LHR.", "type" "string"}, "audits" {"description" "Map of audits in the LHR.", "additionalProperties" {"$ref" "LighthouseAuditResultV5"}, "type" "object"}, "runWarnings" {"type" "array", "items" {"type" "any"}, "description" "List of all run warnings in the LHR. Will always output to at least `[]`."}, "finalUrl" {"type" "string", "description" "The final resolved url that was audited."}, "configSettings" {"description" "The configuration settings for this LHR.", "$ref" "ConfigSettings"}, "i18n" {"$ref" "I18n", "description" "The internationalization strings that are required to render the LHR."}, "lighthouseVersion" {"description" "The lighthouse version that was used to generate this LHR.", "type" "string"}, "categories" {"description" "Map of categories in the LHR.", "$ref" "Categories"}, "fetchTime" {"description" "The time that this run was fetched.", "type" "string"}, "stackPacks" {"type" "array", "items" {"$ref" "StackPack"}, "description" "The Stack Pack advice strings."}, "environment" {"description" "Environment settings that were used when making this LHR.", "$ref" "Environment"}, "runtimeError" {"description" "A top-level error message that, if present, indicates a serious enough problem that this Lighthouse result may need to be discarded.", "$ref" "RuntimeError"}, "requestedUrl" {"type" "string", "description" "The original requested url."}, "timing" {"$ref" "Timing", "description" "Timing information for this LHR."}}}, "StackPack" {"type" "object", "id" "StackPack", "properties" {"iconDataURL" {"description" "The stack pack icon data uri.", "type" "string"}, "title" {"type" "string", "description" "The stack pack title."}, "descriptions" {"additionalProperties" {"type" "string"}, "description" "The stack pack advice strings.", "type" "object"}, "id" {"description" "The stack pack id.", "type" "string"}}, "description" "Message containing Stack Pack information."}, "UserPageLoadMetricV5" {"properties" {"category" {"description" "The category of the specific time metric.", "type" "string"}, "median" {"type" "integer", "format" "int32", "description" "The median number of the metric, in millisecond."}, "percentile" {"format" "int32", "description" "We use this field to store certain percentile value for this metric. For v4, this field contains pc50. For v5, this field contains pc90.", "type" "integer"}, "distributions" {"description" "Metric distributions. Proportions should sum up to 1.", "type" "array", "items" {"$ref" "Bucket"}}, "metricId" {"type" "string", "description" "Identifies the type of the metric."}, "formFactor" {"description" "Identifies the form factor of the metric being collected.", "type" "string"}}, "type" "object", "description" "A CrUX metric object for a single metric and form factor.", "id" "UserPageLoadMetricV5"}, "Environment" {"id" "Environment", "description" "Message containing environment configuration for a Lighthouse run.", "type" "object", "properties" {"benchmarkIndex" {"format" "double", "type" "number", "description" "The benchmark index number that indicates rough device class."}, "networkUserAgent" {"type" "string", "description" "The user agent string that was sent over the network."}, "hostUserAgent" {"description" "The user agent string of the version of Chrome used.", "type" "string"}}}, "CategoryGroupV5" {"id" "CategoryGroupV5", "type" "object", "properties" {"title" {"description" "The human readable title of the group", "type" "string"}, "description" {"description" "The description of what the category is grouping", "type" "string"}}, "description" "Message containing a category"}, "LighthouseCategoryV5" {"description" "A Lighthouse category.", "type" "object", "properties" {"id" {"type" "string", "description" "The string identifier of the category."}, "title" {"description" "The human-friendly name of the category.", "type" "string"}, "manualDescription" {"description" "A description for the manual audits in the category.", "type" "string"}, "auditRefs" {"items" {"$ref" "AuditRefs"}, "description" "An array of references to all the audit members of this category.", "type" "array"}, "score" {"type" "any", "description" "The overall score of the category, the weighted average of all its audits. (The category's score, can be null.)"}, "description" {"description" "A more detailed description of the category and its importance.", "type" "string"}}, "id" "LighthouseCategoryV5"}, "RuntimeError" {"description" "Message containing a runtime error config.", "id" "RuntimeError", "type" "object", "properties" {"code" {"description" "The enumerated Lighthouse Error code.", "type" "string"}, "message" {"type" "string", "description" "A human readable message explaining the error code."}}}}}